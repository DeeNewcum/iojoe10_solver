#!/usr/bin/perl

# The main entry point.
# 
# Give it a board to solve, and it will start cranking away.

    use strict;
    use warnings;

    use TreeTraversal;
    use Board;
    use Move;

    use Time::HiRes qw( time );
    use Data::Dumper;

my $filename = shift
    or die join("", <DATA>);

my $board = Board::new_from_file($filename);

$board->display;

my $move_list = TreeTraversal::IDDFS($board);

if (defined($move_list)) {
    print "==== SOLUTION ====\n";
    TreeTraversal::display_solution($move_list, $board);
    TreeTraversal::print_stats();
} else {
    print "No solution found.\n";
}



__DATA__
Please specify the filename of a board to solve.


Files are whitespace-delimited.

Pieces are represented by:

    Movable numbers             -9, ... -1, 0, 1, ... 9

    A wall                      X or XX

    A blank space               .

    Sliders:
        up                      100
        right                   200
        down                    300
        left                    400
        left/right              500
        up/down                 600
        all four directions     700

    Invert block                +-

Things that aren't added yet:

    Multiply blocks


